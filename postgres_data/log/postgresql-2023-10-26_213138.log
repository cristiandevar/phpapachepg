2023-10-26 21:31:38.662 UTC [1] LOG:  starting PostgreSQL 16.0 on x86_64-pc-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r10) 12.2.1 20220924, 64-bit
2023-10-26 21:31:38.663 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2023-10-26 21:31:38.664 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2023-10-26 21:31:38.686 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2023-10-26 21:31:38.887 UTC [25] LOG:  database system was interrupted; last known up at 2023-10-26 19:18:01 UTC
2023-10-26 21:31:48.921 UTC [25] LOG:  syncing data directory (pre-fsync), elapsed time: 10.01 s, current path: ./base/16385/16535_vm
2023-10-26 21:31:58.914 UTC [25] LOG:  syncing data directory (pre-fsync), elapsed time: 20.00 s, current path: ./base/4/2609_fsm
2023-10-26 21:32:08.909 UTC [25] LOG:  syncing data directory (pre-fsync), elapsed time: 30.00 s, current path: ./base/5/2691
2023-10-26 21:32:23.686 UTC [25] LOG:  syncing data directory (fsync), elapsed time: 10.00 s, current path: ./base/4/2702
2023-10-26 21:32:30.000 UTC [25] LOG:  database system was not properly shut down; automatic recovery in progress
2023-10-26 21:32:30.251 UTC [25] LOG:  redo starts at 0/73FCAB8
2023-10-26 21:32:30.254 UTC [25] LOG:  invalid record length at 0/73FCBA0: expected at least 24, got 0
2023-10-26 21:32:30.254 UTC [25] LOG:  redo done at 0/73FCB68 system usage: CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s
2023-10-26 21:32:30.530 UTC [23] LOG:  checkpoint starting: end-of-recovery immediate wait
2023-10-26 21:32:30.735 UTC [23] LOG:  checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.059 s, sync=0.023 s, total=0.216 s; sync files=2, longest=0.012 s, average=0.012 s; distance=0 kB, estimate=0 kB; lsn=0/73FCBA0, redo lsn=0/73FCBA0
2023-10-26 21:32:30.771 UTC [1] LOG:  database system is ready to accept connections
2023-10-26 21:40:04.591 UTC [35] ERROR:  syntax error at or near "orders" at character 8
2023-10-26 21:40:04.591 UTC [35] STATEMENT:  delete orders where orderid = 12018
2023-10-26 21:40:16.959 UTC [35] ERROR:  TypeError: 'NoneType' object is not subscriptable
2023-10-26 21:40:16.959 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 2, in <module>
	    query = f"""select orderdate from orders where orderid={TD["new"]["orderid"]};"""
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:40:16.959 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:40:40.105 UTC [35] ERROR:  TypeError: 'NoneType' object is not subscriptable
2023-10-26 21:40:40.105 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 2, in <module>
	    query = f"""select orderdate from orders where orderid='{TD["new"]["orderid"]}';"""
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:40:40.105 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:40:57.859 UTC [35] ERROR:  TypeError: 'NoneType' object is not subscriptable
2023-10-26 21:40:57.859 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 2, in <module>
	    query = f"""select orderdate from orders where orderid='{TD["new"]["orderid"]}';"""
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:40:57.859 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:41:12.757 UTC [35] ERROR:  TypeError: 'NoneType' object is not subscriptable
2023-10-26 21:41:12.757 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 2, in <module>
	    query = f"""select orderdate from orders where orderid='{TD["new"]["orderid"]}';"""
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:41:12.757 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:41:53.575 UTC [35] ERROR:  TypeError: 'NoneType' object is not subscriptable
2023-10-26 21:41:53.575 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 2, in <module>
	    query = f"""select orderdate from orders where orderid={TD['new']['orderid']};"""
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:41:53.575 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:42:30.924 UTC [23] LOG:  checkpoint starting: time
2023-10-26 21:42:33.110 UTC [23] LOG:  checkpoint complete: wrote 20 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=2.008 s, sync=0.044 s, total=2.186 s; sync files=14, longest=0.011 s, average=0.004 s; distance=106 kB, estimate=106 kB; lsn=0/7417660, redo lsn=0/7417628
2023-10-26 21:43:06.558 UTC [35] ERROR:  TypeError: 'NoneType' object is not subscriptable
2023-10-26 21:43:06.558 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 2, in <module>
	    query = f'select orderdate from orders where orderid={TD["new"]["orderid"]};'
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:43:06.558 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:46:04.574 UTC [35] ERROR:  NameError: name 'plpython' is not defined
2023-10-26 21:46:04.574 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 4, in <module>
	    plpython.execute(now())
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:46:04.574 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:46:18.439 UTC [35] ERROR:  NameError: name 'now' is not defined
2023-10-26 21:46:18.439 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 4, in <module>
	    plpy.execute(now())
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:46:18.439 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:46:36.454 UTC [35] ERROR:  AttributeError: module 'plpy' has no attribute 'now'
2023-10-26 21:46:36.454 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 4, in <module>
	    plpy.now()
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:46:36.454 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:46:47.731 UTC [35] ERROR:  NameError: name 'now' is not defined
2023-10-26 21:46:47.731 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 4, in <module>
	    now()
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:46:47.731 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:47:30.221 UTC [23] LOG:  checkpoint starting: time
2023-10-26 21:47:31.871 UTC [23] LOG:  checkpoint complete: wrote 15 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=1.473 s, sync=0.035 s, total=1.650 s; sync files=11, longest=0.011 s, average=0.004 s; distance=92 kB, estimate=105 kB; lsn=0/742EA30, redo lsn=0/742E9F8
2023-10-26 21:50:38.989 UTC [35] ERROR:  AttributeError: module 'datetime' has no attribute 'now'
2023-10-26 21:50:38.989 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 5, in <module>
	    resta = datetime.now() - resultado[0]['orderdate']
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:50:38.989 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:50:55.756 UTC [35] ERROR:  NameError: name 'now' is not defined
2023-10-26 21:50:55.756 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 5, in <module>
	    resta = now() - resultado[0]['orderdate']
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:50:55.756 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:52:30.929 UTC [23] LOG:  checkpoint starting: time
2023-10-26 21:52:31.970 UTC [23] LOG:  checkpoint complete: wrote 9 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.868 s, sync=0.027 s, total=1.042 s; sync files=7, longest=0.012 s, average=0.004 s; distance=48 kB, estimate=99 kB; lsn=0/743ADC0, redo lsn=0/743AD88
2023-10-26 21:52:48.592 UTC [35] ERROR:  TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2023-10-26 21:52:48.592 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 5, in <module>
	    resta = datetime.datetime.now() - resultado[0]['orderdate']
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:52:48.592 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:53:08.079 UTC [35] ERROR:  TypeError: 'module' object is not callable
2023-10-26 21:53:08.079 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 5, in <module>
	    resta = datetime.datetime.now() - datetime(resultado[0]['orderdate'])
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:53:08.079 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:53:23.296 UTC [35] ERROR:  TypeError: 'str' object cannot be interpreted as an integer
2023-10-26 21:53:23.296 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 5, in <module>
	    resta = datetime.datetime.now() - datetime.datetime(resultado[0]['orderdate'])
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:53:23.296 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 21:57:31.035 UTC [23] LOG:  checkpoint starting: time
2023-10-26 21:57:32.158 UTC [23] LOG:  checkpoint complete: wrote 9 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.893 s, sync=0.034 s, total=1.124 s; sync files=7, longest=0.013 s, average=0.005 s; distance=53 kB, estimate=95 kB; lsn=0/74483C8, redo lsn=0/7448390
2023-10-26 21:59:52.538 UTC [35] ERROR:  TypeError: '<=' not supported between instances of 'datetime.timedelta' and 'int'
2023-10-26 21:59:52.538 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 7, in <module>
	    if resta <= 7 :
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 21:59:52.538 UTC [35] STATEMENT:  delete from orders where orderid = 12018
2023-10-26 22:00:25.423 UTC [35] WARNING:  PL/Python trigger function returned "MODIFY" in a DELETE trigger -- ignored
2023-10-26 22:00:25.423 UTC [35] CONTEXT:  PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 22:02:31.204 UTC [23] LOG:  checkpoint starting: time
2023-10-26 22:02:32.865 UTC [23] LOG:  checkpoint complete: wrote 15 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=1.491 s, sync=0.031 s, total=1.661 s; sync files=11, longest=0.009 s, average=0.003 s; distance=81 kB, estimate=93 kB; lsn=0/745C8B8, redo lsn=0/745C880
2023-10-26 22:05:01.795 UTC [35] WARNING:  PL/Python trigger function returned "MODIFY" in a DELETE trigger -- ignored
2023-10-26 22:05:01.795 UTC [35] CONTEXT:  PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 22:05:46.496 UTC [35] WARNING:  PL/Python trigger function returned "MODIFY" in a DELETE trigger -- ignored
2023-10-26 22:05:46.496 UTC [35] CONTEXT:  PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 22:06:51.672 UTC [35] ERROR:  NameError: name 'MODIFY' is not defined
2023-10-26 22:06:51.672 UTC [35] CONTEXT:  Traceback (most recent call last):
	  PL/Python function "f_impide_eliminar_modificar_orden", line 8, in <module>
	    return MODIFY
	PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 22:06:51.672 UTC [35] STATEMENT:  --DELETE correcto
	delete from orders where orderid = 12019
2023-10-26 22:07:31.966 UTC [23] LOG:  checkpoint starting: time
2023-10-26 22:07:33.545 UTC [23] LOG:  checkpoint complete: wrote 14 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=1.384 s, sync=0.040 s, total=1.580 s; sync files=11, longest=0.012 s, average=0.004 s; distance=87 kB, estimate=93 kB; lsn=0/7472600, redo lsn=0/74725C8
2023-10-26 22:08:51.435 UTC [35] WARNING:  PL/Python trigger function returned "MODIFY" in a DELETE trigger -- ignored
2023-10-26 22:08:51.435 UTC [35] CONTEXT:  PL/Python function "f_impide_eliminar_modificar_orden"
2023-10-26 22:11:22.047 UTC [35] ERROR:  syntax error at or near "735" at character 56
2023-10-26 22:11:22.047 UTC [35] STATEMENT:  -- UPDATE incorrecto
	update orders 
	set  
		tax = 12,735
	where orderid = 11308
2023-10-26 22:12:31.631 UTC [23] LOG:  checkpoint starting: time
2023-10-26 22:12:32.823 UTC [23] LOG:  checkpoint complete: wrote 10 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.973 s, sync=0.046 s, total=1.192 s; sync files=7, longest=0.015 s, average=0.007 s; distance=55 kB, estimate=89 kB; lsn=0/7480490, redo lsn=0/7480458
2023-10-26 22:17:31.854 UTC [23] LOG:  checkpoint starting: time
2023-10-26 22:17:32.555 UTC [23] LOG:  checkpoint complete: wrote 6 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.557 s, sync=0.024 s, total=0.702 s; sync files=6, longest=0.010 s, average=0.004 s; distance=24 kB, estimate=82 kB; lsn=0/7486668, redo lsn=0/7486630
2023-10-26 22:36:09.721 UTC [1] LOG:  received smart shutdown request
2023-10-26 22:36:09.756 UTC [1] LOG:  background worker "logical replication launcher" (PID 28) exited with exit code 1
2023-10-26 22:36:09.769 UTC [23] LOG:  shutting down
